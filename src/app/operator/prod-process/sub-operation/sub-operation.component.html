<div class="subOperations">
    <div class="topSubOpe">
        <input type="text" name="" #inputQrCode style="position: absolute; top:0;left:-100em"
            (change)="inputAction($event.target)">
        <div class="subOperation-title">
            <h2>{{subOperation.DESCRIPTION_OPERATION}}</h2>
        </div>

        <button mat-raised-button (click)="confEvent()">CONF
            <app-qrcode style="width: 2em;" [subOperation]="subOperation" [command]="'1'"></app-qrcode>
        </button>
    </div>

    <div class="content">
        <mat-tab-group mat-align-tabs="start" class="tabGroup">
            <mat-tab label="" *ngFor="let step of subOperation.STEPS">
                <ng-template mat-tab-label>
                    <div class="img-contener" [ngSwitch]="step.TRACA.TYPE_TRACA" *ngIf="step.TRACA"
                        [ngStyle]="{'background-color': step.TRACA.PROD_TRACA_DETAILS?step.TRACA.PROD_TRACA_DETAILS.SANCTION=='1'?'green':'red':''}">
                        <img src="assets/img/shield.svg" alt="" *ngSwitchCase="1">
                        <img src="assets/img/flask.svg" alt="" *ngSwitchCase="2">
                        <img src="assets/img/build.svg" alt="" *ngSwitchCase="3">
                    </div>
                    STEP : {{step.ORDRE}}
                </ng-template>
                <div class="step-contener">
                    <app-instruction class="subOperation-instruction" [instruction]="step.INSTRUCTION">
                    </app-instruction>
                    <app-traca class="subOperation-traca" [tracaInput]="inputMat" [subOperation]="subOperation"
                        [tracaList]="step.TRACA" *ngIf="step.TRACA"></app-traca>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>